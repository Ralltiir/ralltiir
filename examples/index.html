<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>superframe example</title>
</head>

<body>
  <h1>SF Demo</h1>
  <ul>
    <li>
      <a href="./http.html">HTTP</a>
    </li>
  </ul>
  <script src="../dist/sf.js"></script>
  <script>
    require(['router/router', 'action', 'service'], function(router, action, service) {
      var _rootPath = location.pathname;
      router.config({
        root: _rootPath
      });

      //create index service
      var indexService = service.create();

      indexService.prototype.create = function() {
        console.log('index create');
      };

      indexService.prototype.attach = function() {
        console.log('index attach');
      };

      indexService.prototype.detach = function() {
        console.log('index detach');
      };

      indexService.prototype.destroy = function() {
        console.log('index destroy');
      };

      //create page service
      var pageService = service.create();

      pageService.prototype.create = function() {
        console.log('page create');
      };

      pageService.prototype.attach = function() {
        console.log('page attach');
      };

      pageService.prototype.detach = function() {
        console.log('page detach');
      };

      pageService.prototype.destroy = function() {
        console.log('page destroy');
      };

      action.regist('/page', new pageService());
      action.regist('/', new indexService());

      router.start();
      action.start();

      window.action = action;
    });
  </script>
</body>

</html>
