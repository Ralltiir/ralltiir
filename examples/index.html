<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>superframe example</title>
</head>

<body>
  <h1>SF Demo</h1>
  <section>
    <h2>API 使用示例</h2>
    <ul>
      <li> <a href="./http.html">HTTP</a> </li>
      <li> <a href="./resource.html">Resource</a> </li>
      <li> <a href="./view.html">View</a></li>
    </ul>
  </section>
  <section>
    <h2>App 开发示例</h2>
    <ul>
      <li> <a href="./app">Todo List App</a></li>
    </ul>
  </section>
  <script src="../lib/esl.js"></script>
  <script src="../dist/sf-2.5.js"></script>
  <script>
    require(['sfr/router/router', 'sfr/action', 'sfr/service'], function(router, action, service) {
      var _rootPath = location.pathname;
      router.config({
        root: _rootPath
      });

      //create index service
      var indexService = service.create();

      indexService.prototype.create = function() {
        console.log('index create');
      };

      indexService.prototype.attach = function() {
        console.log('index attach');
      };

      indexService.prototype.detach = function() {
        console.log('index detach');
      };

      indexService.prototype.destroy = function() {
        console.log('index destroy');
      };

      //create page service
      var pageService = service.create();

      pageService.prototype.create = function() {
        console.log('page create');
      };

      pageService.prototype.attach = function() {
        console.log('page attach');
      };

      pageService.prototype.detach = function() {
        console.log('page detach');
      };

      pageService.prototype.destroy = function() {
        console.log('page destroy');
      };

      action.regist('/page', new pageService());
      action.regist('/', new indexService());

      router.start();
      action.start();

      window.action = action;
    });
  </script>
</body>

</html>
