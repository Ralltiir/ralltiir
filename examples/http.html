<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>HTTP Demo</title>
  <script src="../dist/sf-2.5.js"></script>
</head>

<body>

  <h1>HTTP Demo</h1>

  <p>Check out the console.</p>

  <script>
    require(['sfr/utils/http'], function(http) {
      // GET
      http
        .get('http://foo.com/cat')
        .then(function(xhr) { 
          // xhr is the BOM XMLHttpRequest Object,
          // For example:

          // 200 application/json
          console.log(xhr.status, xhr.reponseHeaders['Content-Type']);
          // response text, '{"name": "Alice"}'
          console.log(xhr.responseText);
          // object parsed from reponseText, according to content-type
          console.log(xhr.data);
        })
        .catch(function(obj) {
          // if response status is NOT OK, xhr is the XMLHttpRequest object
          obj instanceof XMLHttpRequest;
          // if there's error creating xhr, xhr it
          obj instanceof Error;
        });

      // PUT
      http
        .put('http://www.baidu.com')
        .then(function(xhr){
        });

      // POST
      http.post('http://www.baidu.com');

      // DELETE
      http.delete('http://www.baidu.com');

      // AJAX
      http.ajax({
        url: 'http://www.baidu.com',
        method: 'post',
        headers: {
          'content-type': 'application/json'
        },
        data: {
          foo: 'bar'
        }
      }).then(function(xhr){
        console.log(xhr.responseText);
      }).catch(function(xhr){
        console.log(xhr.status);
      });
    });
  </script>
</body>

</html>
